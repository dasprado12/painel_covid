{"remainingRequest":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\natha\\Projetos\\painel_covid\\src\\views\\Projeto\\visualize\\BrasilLine.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\src\\views\\Projeto\\visualize\\BrasilLine.vue","mtime":1593045827591},{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\natha\\Projetos\\painel_covid\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBEYXRhIH0gZnJvbSAiLi4vLi4vLi4vZnVuY3Rpb25zL2luZGV4LmpzIjsNCi8vIGltcG9ydCBkYXRlcyBmcm9tICIuLi8uLi8uLi9leGFtcGxlL2RhdGVzLmpzIg0KaW1wb3J0IGxpbmVDaGFydCBmcm9tICIuLi9jaGFydHMvTGluZUNoYXJ0LnZ1ZSI7DQoNCmxldCBhcGlfZGF0YSA9IG5ldyBEYXRhKCk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIGxpbmVDaGFydA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyBEYWRvcyBxdWUgdmFvIHBhcmEgbyBsaW5lQ2hhcnQNCiAgICAgIHR5cGU6ICJsaW5lIiwNCiAgICAgIGluZmVjdGFkb3M6IFtdLA0KICAgICAgb2JpdG9zOiBbXSwNCiAgICAgIG51bUlkOiAwLA0KDQogICAgICBzZWxlY3RlZDogWyJJbmZlY3RhZG9zIiwgIk9iaXRvcyJdLA0KDQogICAgICBkYXRlczogbnVsbCwgLy8gRGF0YXMgdmluZG9zIGRhIEFQSQ0KICAgICAgZGFkb3M6IG51bGwgLy8gRGFkb3MgdmluZG9zIGRhIEFQSQ0KICAgIH07DQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5saXN0X2RhdGEoKTsNCiAgICB0aGlzLmxpc3RfZGF0ZXMoKTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyB0aGlzLm1vZGlmeV9kYXRlcygpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBsaXN0X2RhdGEoKSB7DQogICAgICB0aGlzLmRhZG9zID0gKGF3YWl0IGFwaV9kYXRhLmdldF9hbGxfZGF0YSgpKS5kYXRhLm1hcChmdW5jdGlvbihkYXRhKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgbnVtOiBkYXRhLm51bSwNCiAgICAgICAgICBvYml0b3M6IGRhdGEub2JpdG9zLA0KICAgICAgICAgIGRhdGFFeHRyYWNhbzogZGF0YS5kYXRhRXh0cmFjYW8uc3BsaXQoIlQiKVswXQ0KICAgICAgICB9Ow0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBsaXN0X2RhdGVzKCkgew0KICAgICAgdGhpcy5kYXRlcyA9IChhd2FpdCBhcGlfZGF0YS5nZXRfYWxsX2RhdGVzKCkpLmRhdGENCiAgICAgICAgLnNvcnQoKQ0KICAgICAgICAubWFwKGZ1bmN0aW9uKGRhdGUpIHsNCiAgICAgICAgICByZXR1cm4gZGF0ZS5zcGxpdCgiVCIpWzBdOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGNoYW5nZUNoYXJ0KGl0ZW0pIHsNCiAgICAgIHRoaXMudHlwZSA9IGl0ZW07DQogICAgICB0aGlzLm51bUlkKys7DQogICAgfSwNCiAgICBmaWx0ZXJfZGF0YSgpIHsNCiAgICAgIGxldCBmaWx0cmFkb19pbmZlY3RhZG9zID0gW107DQogICAgICBsZXQgZmlsdHJhZG9fb2JpdG9zID0gW107DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZGF0ZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGluZmVjdGFkb3MgPSAwOw0KICAgICAgICBsZXQgb2JpdG9zID0gMDsNCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRhZG9zLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgaWYgKHRoaXMuZGF0ZXNbaV0gPT0gdGhpcy5kYWRvc1tqXS5kYXRhRXh0cmFjYW8pIHsNCiAgICAgICAgICAgIGluZmVjdGFkb3MgKz0gdGhpcy5kYWRvc1tqXS5udW07DQogICAgICAgICAgICBvYml0b3MgKz0gdGhpcy5kYWRvc1tqXS5vYml0b3M7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGZpbHRyYWRvX2luZmVjdGFkb3MucHVzaChpbmZlY3RhZG9zKTsNCiAgICAgICAgZmlsdHJhZG9fb2JpdG9zLnB1c2gob2JpdG9zKTsNCiAgICAgIH0NCiAgICAgIHRoaXMuaW5mZWN0YWRvcyA9IGZpbHRyYWRvX2luZmVjdGFkb3M7DQogICAgICB0aGlzLm9iaXRvcyA9IGZpbHRyYWRvX29iaXRvczsNCiAgICAgIHRoaXMubnVtSWQrKzsNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgZGF0ZXModmFsKSB7DQogICAgICBpZiAodmFsICE9IG51bGwpIHsNCiAgICAgICAgdGhpcy5maWx0ZXJfZGF0YSgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKHZhbCkgew0KICAgICAgaWYgKCF2YWwuaW5jbHVkZXMoIk9iaXRvcyIpKSB7DQogICAgICAgIHRoaXMub2JpdG9zID0gWzBdOw0KICAgICAgICB0aGlzLm51bUlkKys7DQogICAgICB9DQogICAgICBpZiAodmFsLmluY2x1ZGVzKCJPYml0b3MiKSkgew0KICAgICAgICB0aGlzLm9iaXRvcyA9IHRoaXMuZGFkb3NfZmlsdHJhZG9zLm9iaXRvczsNCiAgICAgICAgdGhpcy5udW1JZCsrOw0KICAgICAgfQ0KICAgICAgaWYgKCF2YWwuaW5jbHVkZXMoIkluZmVjdGFkb3MiKSkgew0KICAgICAgICB0aGlzLmluZmVjdGFkb3MgPSBbMF07DQogICAgICAgIHRoaXMubnVtSWQrKzsNCiAgICAgIH0NCiAgICAgIGlmICh2YWwuaW5jbHVkZXMoIkluZmVjdGFkb3MiKSkgew0KICAgICAgICB0aGlzLmluZmVjdGFkb3MgPSB0aGlzLmRhZG9zX2ZpbHRyYWRvcy5pbmZlY3RhZG9zOw0KICAgICAgICB0aGlzLm51bUlkKys7DQogICAgICB9DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["BrasilLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BrasilLine.vue","sourceRoot":"src/views/Projeto/visualize","sourcesContent":["<template>\r\n  <div>\r\n    <v-card flat outlined>\r\n      <v-card-title>\r\n        <span class=\"font-weight-light\"> Total </span>\r\n        <v-spacer />\r\n        <v-btn text small class=\"font-weight-light\" @click=\"changeChart('line')\"\r\n          >Linha</v-btn\r\n        >\r\n        <v-btn text small class=\"font-weight-light\" @click=\"changeChart('bar')\"\r\n          >Barra</v-btn\r\n        >\r\n      </v-card-title>\r\n      <v-divider></v-divider>\r\n      <v-card-text>\r\n        <line-chart\r\n          v-bind:infected=\"infectados\"\r\n          v-bind:time=\"dates\"\r\n          v-bind:death=\"obitos\"\r\n          v-bind:type=\"type\"\r\n          :key=\"numId\"\r\n        />\r\n      </v-card-text>\r\n    </v-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Data } from \"../../../functions/index.js\";\r\n// import dates from \"../../../example/dates.js\"\r\nimport lineChart from \"../charts/LineChart.vue\";\r\n\r\nlet api_data = new Data();\r\n\r\nexport default {\r\n  components: {\r\n    lineChart\r\n  },\r\n  data() {\r\n    return {\r\n      // Dados que vao para o lineChart\r\n      type: \"line\",\r\n      infectados: [],\r\n      obitos: [],\r\n      numId: 0,\r\n\r\n      selected: [\"Infectados\", \"Obitos\"],\r\n\r\n      dates: null, // Datas vindos da API\r\n      dados: null // Dados vindos da API\r\n    };\r\n  },\r\n  async created() {\r\n    this.list_data();\r\n    this.list_dates();\r\n  },\r\n  mounted() {\r\n    // this.modify_dates()\r\n  },\r\n  methods: {\r\n    async list_data() {\r\n      this.dados = (await api_data.get_all_data()).data.map(function(data) {\r\n        return {\r\n          num: data.num,\r\n          obitos: data.obitos,\r\n          dataExtracao: data.dataExtracao.split(\"T\")[0]\r\n        };\r\n      });\r\n    },\r\n    async list_dates() {\r\n      this.dates = (await api_data.get_all_dates()).data\r\n        .sort()\r\n        .map(function(date) {\r\n          return date.split(\"T\")[0];\r\n        });\r\n    },\r\n    changeChart(item) {\r\n      this.type = item;\r\n      this.numId++;\r\n    },\r\n    filter_data() {\r\n      let filtrado_infectados = [];\r\n      let filtrado_obitos = [];\r\n      for (let i = 0; i < this.dates.length; i++) {\r\n        let infectados = 0;\r\n        let obitos = 0;\r\n        for (let j = 0; j < this.dados.length; j++) {\r\n          if (this.dates[i] == this.dados[j].dataExtracao) {\r\n            infectados += this.dados[j].num;\r\n            obitos += this.dados[j].obitos;\r\n          }\r\n        }\r\n        filtrado_infectados.push(infectados);\r\n        filtrado_obitos.push(obitos);\r\n      }\r\n      this.infectados = filtrado_infectados;\r\n      this.obitos = filtrado_obitos;\r\n      this.numId++;\r\n    }\r\n  },\r\n  watch: {\r\n    dates(val) {\r\n      if (val != null) {\r\n        this.filter_data();\r\n      }\r\n    },\r\n    selected: function(val) {\r\n      if (!val.includes(\"Obitos\")) {\r\n        this.obitos = [0];\r\n        this.numId++;\r\n      }\r\n      if (val.includes(\"Obitos\")) {\r\n        this.obitos = this.dados_filtrados.obitos;\r\n        this.numId++;\r\n      }\r\n      if (!val.includes(\"Infectados\")) {\r\n        this.infectados = [0];\r\n        this.numId++;\r\n      }\r\n      if (val.includes(\"Infectados\")) {\r\n        this.infectados = this.dados_filtrados.infectados;\r\n        this.numId++;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.selector {\r\n  text-align: center;\r\n  align-content: center;\r\n}\r\n</style>\r\n"]}]}